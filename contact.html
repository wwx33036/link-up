<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>Profil użytkownika</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">

<style>
* {
    box-sizing: border-box;
    font-family: 'Poppins', sans-serif;
}

body {
    margin: 0;
    background: linear-gradient(180deg, #ffffff, #cce4ff);
    color: #333;
}

.container {
    max-width: 1000px;
    margin: 30px auto;
    padding: 20px;
}

.profile-card, .box, .post {
    background: #ffffff;
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 8px 18px rgba(0,0,0,0.1);
    margin-bottom: 25px;
}

.profile-card {
    display: flex;
    gap: 20px;
}

.profile-photo img {
    width: 140px;
    height: 140px;
    border-radius: 50%;
    border: 4px solid #0066cc;
    filter: grayscale(100%);
    opacity: 0.85;
}

.profile-info h2 {
    margin: 0;
    color: #0066cc;
}

textarea, input {
    width: 100%;
    padding: 10px;
    border-radius: 8px;
    border: 1px solid #ccc;
}

button {
    margin-top: 10px;
    padding: 8px 16px;
    background: #0066cc;
    color: white;
    border: none;
    border-radius: 8px;
    cursor: pointer;
    font-weight: 600;
}

button.delete {
    background: #333;
}

.layout {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 25px;
}

.post {
    border-left: 5px solid #0066cc;
}

.comment {
    background: #f5f7fa;
    padding: 8px;
    border-radius: 6px;
    margin-top: 5px;
    font-size: 14px;
}

.friend {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 8px 0;
    border-bottom: 1px solid #eee;
}

.friend:last-child {
    border-bottom: none;
}
</style>
</head>

<body>

<div class="container">

<!-- PROFIL -->
<div class="profile-card">
    <div class="profile-photo">
        <img src="avatar-fb.svg" alt="Domyślne zdjęcie profilu">
    </div>
    <div class="profile-info">
        <h2>Jan Kowalski</h2>
        <p><strong>Wiek:</strong> 28</p>
        <p><strong>Płeć:</strong> Mężczyzna</p>
        <p><strong>Telefon:</strong> 123 456 789</p>
        <p><strong>Email:</strong> jan.kowalski@email.com</p>
    </div>
</div>

<div class="layout">

<!-- LEWA KOLUMNA -->
<div>

<!-- POSTY -->
<div class="box">
    <h3>Dodaj post</h3>
    <textarea id="postText" placeholder="Co słychać?"></textarea>
    <button onclick="addPost()">Udostępnij</button>
    <div id="posts"></div>
</div>

</div>

<!-- PRAWA KOLUMNA -->
<div>

<!-- ZNAJOMI -->
<div class="box">
    <h3>Znajomi</h3>

    <input type="text" id="friendName" placeholder="Imię i nazwisko">
    <button onclick="addFriend()">Dodaj znajomego</button>

    <div id="friends"></div>
</div>

</div>

</div>
</div>

<script>
// ===== POSTY =====
const postsEl = document.getElementById("posts");
const postText = document.getElementById("postText");

function loadPosts() {
    const posts = JSON.parse(localStorage.getItem("posts")) || [];
    postsEl.innerHTML = "";

    posts.forEach((post, i) => {
        postsEl.innerHTML += `
        <div class="post">
            <p>${post.text}</p>
            <small>${post.date}</small><br>
            <button class="delete" onclick="deletePost(${i})">Usuń</button>

            <input type="text" placeholder="Dodaj komentarz"
                onkeypress="if(event.key==='Enter') addComment(${i}, this)">
            ${post.comments.map(c => `<div class="comment">${c}</div>`).join("")}
        </div>`;
    });
}

function addPost() {
    if (!postText.value.trim()) return;
    const posts = JSON.parse(localStorage.getItem("posts")) || [];
    posts.unshift({ text: postText.value, date: new Date().toLocaleString(), comments: [] });
    localStorage.setItem("posts", JSON.stringify(posts));
    postText.value = "";
    loadPosts();
}

function deletePost(i) {
    const posts = JSON.parse(localStorage.getItem("posts")) || [];
    posts.splice(i, 1);
    localStorage.setItem("posts", JSON.stringify(posts));
    loadPosts();
}

function addComment(i, input) {
    if (!input.value.trim()) return;
    const posts = JSON.parse(localStorage.getItem("posts")) || [];
    posts[i].comments.push(input.value);
    localStorage.setItem("posts", JSON.stringify(posts));
    loadPosts();
}

// ===== ZNAJOMI =====
const friendsEl = document.getElementById("friends");
const friendInput = document.getElementById("friendName");

const defaultFriends = [
    "Anna Nowak",
    "Piotr Wiśniewski",
    "Katarzyna Zielińska",
    "Michał Lewandowski"
];

function loadFriends() {
    let friends = JSON.parse(localStorage.getItem("friends"));
    if (!friends) {
        friends = defaultFriends;
        localStorage.setItem("friends", JSON.stringify(friends));
    }

    friendsEl.innerHTML = "";
    friends.forEach((f, i) => {
        friendsEl.innerHTML += `
        <div class="friend">
            <span>${f}</span>
            <button class="delete" onclick="removeFriend(${i})">Usuń</button>
        </div>`;
    });
}

function addFriend() {
    if (!friendInput.value.trim()) return;
    const friends = JSON.parse(localStorage.getItem("friends")) || [];
    friends.push(friendInput.value);
    localStorage.setItem("friends", JSON.stringify(friends));
    friendInput.value = "";
    loadFriends();
}

function removeFriend(i) {
    const friends = JSON.parse(localStorage.getItem("friends")) || [];
    friends.splice(i, 1);
    localStorage.setItem("friends", JSON.stringify(friends));
    loadFriends();
}

loadPosts();
loadFriends();
</script>

</body>
</html>
